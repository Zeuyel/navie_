# GitHubè‡ªåŠ¨æ³¨å†Œç³»ç»Ÿ V2 - å•ä¸€+æ‰¹é‡åŒæ¨¡å¼

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

GitHubè‡ªåŠ¨æ³¨å†Œç³»ç»ŸV2é‡‡ç”¨**ä»»åŠ¡é˜Ÿåˆ—+äº‹ä»¶é©±åŠ¨æ··åˆæ¶æ„**ï¼Œå°†å¤æ‚çš„æ³¨å†Œæµç¨‹åˆ†è§£ä¸º27ä¸ªç»†ç²’åº¦ä»»åŠ¡ï¼Œå®ç°çœŸæ­£çš„å¼‚æ­¥äº‹ä»¶é©±åŠ¨æœºåˆ¶ã€‚ç³»ç»ŸåŒ…å«ç‹¬ç«‹çš„é‚®ç®±ç®¡ç†å·¥å…·ï¼Œæ”¯æŒå¤šé‚®ç®±è´¦å·ç®¡ç†å’Œæ™ºèƒ½åˆ‡æ¢ã€‚

**ğŸ†• V2.1 æ–°å¢ç‰¹æ€§**ï¼š
- ğŸš€ **æ‰¹é‡å¼‚æ­¥å¤„ç†æ¨¡å¼** - æ”¯æŒå¤šä¸ªemail_tokenå¹¶å‘å¤„ç†
- ğŸŒ **æµè§ˆå™¨å®ä¾‹æ± ** - æ™ºèƒ½å¤ç”¨æµè§ˆå™¨èµ„æºï¼Œé™ä½å†…å­˜æ¶ˆè€—
- âš¡ **ç®€å•å¼‚æ­¥æ–¹æ¡ˆ** - åŸºäºasyncio.gatherçš„è½»é‡çº§å¹¶å‘
- ğŸ“Š **æ‰¹é‡ç»Ÿè®¡æŠ¥å‘Š** - è¯¦ç»†çš„æ‰¹é‡å¤„ç†ç»Ÿè®¡å’Œç»“æœå¯¼å‡º

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”„ **çœŸæ­£çš„äº‹ä»¶é©±åŠ¨**: æ¯ä¸ªå°æ­¥éª¤éƒ½é€šè¿‡äº‹ä»¶è§¦å‘ï¼Œå½»åº•è§£å†³åŒæ­¥é˜»å¡é—®é¢˜
- ğŸ“‹ **ç»†ç²’åº¦ä»»åŠ¡**: 27ä¸ªç‹¬ç«‹ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡èŒè´£å•ä¸€ï¼Œæ˜“äºè°ƒè¯•å’Œç»´æŠ¤
- ğŸ›ï¸ **æ™ºèƒ½ä»»åŠ¡ç®¡ç†**: è‡ªåŠ¨å¤„ç†ä»»åŠ¡ä¾èµ–å…³ç³»ã€é‡è¯•æœºåˆ¶å’Œè¶…æ—¶æ§åˆ¶
- ğŸ“Š **å®Œæ•´ç›‘æ§**: äº‹ä»¶å†å²ã€çŠ¶æ€è½¬æ¢ã€ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€å…¨ç¨‹è¿½è¸ª
- ğŸ”§ **çµæ´»é…ç½®**: ç”Ÿäº§ç¯å¢ƒå¿«é€Ÿå¤±è´¥ï¼Œå¼€å‘ç¯å¢ƒæ”¯æŒé‡è¯•è°ƒè¯•
- ğŸ“§ **é‚®ç®±ç®¡ç†**: ç‹¬ç«‹çš„é‚®ç®±ç®¡ç†å·¥å…·ï¼Œæ”¯æŒå¤šè´¦å·CRUDå’Œæ™ºèƒ½åˆ‡æ¢
- ğŸš€ **åŒæ¨¡å¼è¿è¡Œ**: å•ä¸€æ³¨å†Œæ¨¡å¼ + æ‰¹é‡å¼‚æ­¥å¤„ç†æ¨¡å¼

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EventBus      â”‚    â”‚  StateManager   â”‚    â”‚  TaskManager    â”‚
â”‚   äº‹ä»¶æ€»çº¿       â”‚â—„â”€â”€â–ºâ”‚   çŠ¶æ€ç®¡ç†å™¨     â”‚â—„â”€â”€â–ºâ”‚   ä»»åŠ¡ç®¡ç†å™¨     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                        â–²                        â–²
         â”‚                        â”‚                        â”‚
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        27ä¸ªç»†ç²’åº¦ä»»åŠ¡                            â”‚
â”‚  system_init â†’ email_select â†’ browser_init â†’ navigate â†’ ...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. EventBus (äº‹ä»¶æ€»çº¿)

**æ ¸å¿ƒèŒè´£**: ä½œä¸ºç³»ç»Ÿçš„ç¥ç»ä¸­æ¢ï¼Œè´Ÿè´£æ‰€æœ‰ç»„ä»¶é—´çš„äº‹ä»¶é€šä¿¡å’Œåè°ƒã€‚

**ä¸»è¦åŠŸèƒ½ç‰¹æ€§**:
- ğŸ”„ **å¼‚æ­¥äº‹ä»¶å‘å¸ƒè®¢é˜…**: æ”¯æŒå®Œå…¨å¼‚æ­¥çš„äº‹ä»¶å¤„ç†æœºåˆ¶
- âš¡ **äº‹ä»¶ä¼˜å…ˆçº§ç®¡ç†**: å…³é”®äº‹ä»¶å¯ä¼˜å…ˆå¤„ç†ï¼Œç¡®ä¿ç³»ç»Ÿå“åº”æ€§
- ğŸ”§ **ä¸­é—´ä»¶æ”¯æŒ**: å¯æ’æ‹”çš„äº‹ä»¶å¤„ç†ä¸­é—´ä»¶ï¼Œæ”¯æŒæ—¥å¿—ã€éªŒè¯ç­‰
- ğŸ“š **äº‹ä»¶å†å²è®°å½•**: ä¿å­˜æœ€è¿‘1000ä¸ªäº‹ä»¶ï¼Œä¾¿äºè°ƒè¯•å’Œåˆ†æ
- ğŸ¯ **æ¡ä»¶è®¢é˜…**: æ”¯æŒåŸºäºæ¡ä»¶çš„æ™ºèƒ½äº‹ä»¶è®¢é˜…

**å…³é”®æ–¹æ³•**:
```python
# è®¢é˜…äº‹ä»¶
event_bus.subscribe('task_completed', handler, priority=EventPriority.HIGH)

# å‘å¸ƒäº‹ä»¶
await event_bus.publish(create_event(
    name='browser_ready',
    data={'url': 'https://github.com/join'},
    source='BrowserTask'
))

# å‘å¸ƒå¹¶ç­‰å¾…æ‰€æœ‰å¤„ç†å™¨å®Œæˆ
results = await event_bus.publish_and_wait(event, timeout=30.0)
```

**æ¶æ„é‡è¦æ€§**: EventBusæ˜¯å®ç°çœŸæ­£äº‹ä»¶é©±åŠ¨æ¶æ„çš„åŸºçŸ³ï¼Œå®ƒè§£è€¦äº†å„ä¸ªç»„ä»¶ï¼Œä½¿å¾—ä»»åŠ¡é—´å¯ä»¥é€šè¿‡äº‹ä»¶è¿›è¡Œæ¾è€¦åˆé€šä¿¡ï¼Œå¤§å¤§æé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚

### 2. StateManager (çŠ¶æ€ç®¡ç†å™¨)

**æ ¸å¿ƒèŒè´£**: ç»´æŠ¤ç³»ç»Ÿçš„å…¨å±€çŠ¶æ€ï¼Œç®¡ç†çŠ¶æ€è½¬æ¢ï¼Œç¡®ä¿ç³»ç»ŸçŠ¶æ€çš„ä¸€è‡´æ€§å’Œå¯è¿½æº¯æ€§ã€‚

**ä¸»è¦åŠŸèƒ½ç‰¹æ€§**:
- ğŸ”„ **çŠ¶æ€è½¬æ¢éªŒè¯**: ç¡®ä¿åªæœ‰åˆæ³•çš„çŠ¶æ€è½¬æ¢æ‰èƒ½æ‰§è¡Œ
- ğŸ“Š **çŠ¶æ€å†å²è¿½è¸ª**: è®°å½•æ‰€æœ‰çŠ¶æ€å˜æ›´çš„å®Œæ•´å†å²
- ğŸ¯ **çŠ¶æ€ç›‘å¬å™¨**: æ”¯æŒå¯¹ç‰¹å®šçŠ¶æ€å˜åŒ–çš„ç›‘å¬å’Œå“åº”
- ğŸ’¾ **çŠ¶æ€æ•°æ®ç®¡ç†**: ç»Ÿä¸€ç®¡ç†è·¨ä»»åŠ¡çš„å…±äº«æ•°æ®
- ğŸ“¤ **çŠ¶æ€å¯¼å‡º**: æ”¯æŒçŠ¶æ€æ•°æ®çš„åºåˆ—åŒ–å’Œå¯¼å‡º

**çŠ¶æ€æµè½¬å›¾**:
```
INIT â†’ BROWSER_INITIALIZING â†’ BROWSER_READY â†’ FORM_FILLING â†’
FORM_SUBMITTED â†’ CAPTCHA_PENDING â†’ CAPTCHA_SOLVING â†’
CAPTCHA_COMPLETED â†’ EMAIL_VERIFICATION â†’ COMPLETED
```

**å…³é”®æ–¹æ³•**:
```python
# çŠ¶æ€è½¬æ¢
await state_manager.transition_to(
    RegistrationState.CAPTCHA_SOLVING,
    trigger_event='captcha_detected'
)

# æ•°æ®ç®¡ç†
state_manager.set_data('browser_instance', browser)
browser = state_manager.get_data('browser_instance')

# æ·»åŠ çŠ¶æ€ç›‘å¬å™¨
state_manager.add_state_listener(
    RegistrationState.COMPLETED,
    on_registration_complete
)
```

**æ¶æ„é‡è¦æ€§**: StateManagerç¡®ä¿äº†å¤æ‚å¼‚æ­¥æµç¨‹ä¸­çŠ¶æ€çš„ä¸€è‡´æ€§ï¼Œé€šè¿‡çŠ¶æ€è½¬æ¢éªŒè¯é¿å…äº†çŠ¶æ€æ··ä¹±ï¼Œæ˜¯ç³»ç»Ÿç¨³å®šæ€§çš„é‡è¦ä¿éšœã€‚

### 3. TaskManager (ä»»åŠ¡ç®¡ç†å™¨)

**æ ¸å¿ƒèŒè´£**: è´Ÿè´£ä»»åŠ¡çš„è°ƒåº¦ã€æ‰§è¡Œã€ä¾èµ–ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼Œæ˜¯ç³»ç»Ÿæ‰§è¡Œå¼•æ“çš„æ ¸å¿ƒã€‚

**ä¸»è¦åŠŸèƒ½ç‰¹æ€§**:
- ğŸ“‹ **ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†**: æ™ºèƒ½çš„ä»»åŠ¡é˜Ÿåˆ—è°ƒåº¦å’Œæ‰§è¡Œ
- ğŸ”— **ä¾èµ–å…³ç³»å¤„ç†**: è‡ªåŠ¨è§£æå’Œå¤„ç†ä»»åŠ¡é—´çš„å¤æ‚ä¾èµ–å…³ç³»
- ğŸ”„ **é‡è¯•æœºåˆ¶**: çµæ´»çš„ä»»åŠ¡é‡è¯•ç­–ç•¥ï¼Œæ”¯æŒä¸åŒç¯å¢ƒé…ç½®
- â±ï¸ **è¶…æ—¶æ§åˆ¶**: ä»»åŠ¡çº§åˆ«çš„ç²¾ç¡®è¶…æ—¶ç®¡ç†
- ğŸ›ï¸ **å¹¶å‘æ§åˆ¶**: å¯é…ç½®çš„ä»»åŠ¡å¹¶å‘æ‰§è¡Œæ•°é‡

**ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ**:
```
PENDING â†’ RUNNING â†’ COMPLETED
    â†“         â†“         â†‘
CANCELLED  FAILED â†’ RETRY (å¯é€‰)
```

**å…³é”®æ–¹æ³•**:
```python
# æ³¨å†Œä»»åŠ¡
task_manager.register_task(Task(
    task_id="email_input_task",
    name="å¡«å†™é‚®ç®±",
    handler=email_input_handler,
    dependencies=["page_load_wait_task"],
    max_retries=2,
    timeout=15.0
))

# å¯åŠ¨ä»»åŠ¡ç®¡ç†å™¨
await task_manager.start()

# è·å–ä»»åŠ¡çŠ¶æ€
status = task_manager.get_task_status("email_input_task")
all_status = task_manager.get_all_tasks_status()
```

**ä½¿ç”¨åœºæ™¯ç¤ºä¾‹**:
```python
# ä»»åŠ¡å‡½æ•°å®ç°
async def email_input_task(state_manager, event_bus):
    browser = state_manager.get_data('browser_instance')

    # æ‰§è¡Œä»»åŠ¡é€»è¾‘
    email_input = browser.driver.find_element(By.ID, "email")
    email_input.send_keys(TEMP_EMAIL)

    # å‘å¸ƒäº‹ä»¶
    await event_bus.publish(create_event(
        name='email_filled',
        data={'email': TEMP_EMAIL},
        source='email_input_task'
    ))

    # è¿”å›ä»»åŠ¡ç»“æœ
    return TaskResult(
        success=True,
        data={'email': TEMP_EMAIL},
        next_tasks=['password_input_task']
    )
```

**æ¶æ„é‡è¦æ€§**: TaskManageræ˜¯ç³»ç»Ÿçš„æ‰§è¡Œå¼•æ“ï¼Œå®ƒå°†å¤æ‚çš„ä¸šåŠ¡æµç¨‹åˆ†è§£ä¸ºå¯ç®¡ç†çš„ä»»åŠ¡å•å…ƒï¼Œé€šè¿‡ä¾èµ–ç®¡ç†å’Œæ™ºèƒ½è°ƒåº¦ï¼Œç¡®ä¿äº†ç³»ç»Ÿçš„é«˜æ•ˆæ‰§è¡Œå’Œå¯é æ€§ã€‚

### ğŸ”„ ç»„ä»¶åä½œæœºåˆ¶

ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶é€šè¿‡ä»¥ä¸‹æ–¹å¼ååŒå·¥ä½œï¼š

1. **TaskManager** æ‰§è¡Œä»»åŠ¡å¹¶é€šè¿‡ **EventBus** å‘å¸ƒäº‹ä»¶
2. **StateManager** ç›‘å¬äº‹ä»¶å¹¶æ›´æ–°ç³»ç»ŸçŠ¶æ€
3. **EventBus** å°†çŠ¶æ€å˜æ›´äº‹ä»¶å¹¿æ’­ç»™ç›¸å…³ç»„ä»¶
4. **TaskManager** æ ¹æ®ä»»åŠ¡ç»“æœå’ŒçŠ¶æ€å˜åŒ–è°ƒåº¦ä¸‹ä¸€ä¸ªä»»åŠ¡

è¿™ç§è®¾è®¡å®ç°äº†é«˜åº¦è§£è€¦çš„å¼‚æ­¥æ¶æ„ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•å’Œä¼˜åŒ–ï¼ŒåŒæ—¶ä¿æŒäº†æ•´ä½“ç³»ç»Ÿçš„åè°ƒæ€§å’Œä¸€è‡´æ€§ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ core/                          # æ ¸å¿ƒæ¶æ„ç»„ä»¶
â”‚   â”œâ”€â”€ event_bus.py              # äº‹ä»¶æ€»çº¿ï¼ˆæ”¯æŒä¼˜å…ˆçº§ã€ä¸­é—´ä»¶ï¼‰
â”‚   â”œâ”€â”€ state_manager.py          # çŠ¶æ€ç®¡ç†å™¨ï¼ˆçŠ¶æ€è½¬æ¢éªŒè¯ï¼‰
â”‚   â””â”€â”€ task_manager.py           # ä»»åŠ¡ç®¡ç†å™¨ï¼ˆé˜Ÿåˆ—ã€ä¾èµ–ã€é‡è¯•ï¼‰
â”œâ”€â”€ tasks/                         # ä»»åŠ¡å®ç°
â”‚   â”œâ”€â”€ initial_tasks.py          # åˆå§‹åŒ–ä»»åŠ¡ï¼ˆ2ä¸ªï¼‰
â”‚   â”œâ”€â”€ browser_tasks.py          # æµè§ˆå™¨ç›¸å…³ä»»åŠ¡ï¼ˆ3ä¸ªï¼‰
â”‚   â”œâ”€â”€ form_tasks.py             # è¡¨å•å¡«å†™ä»»åŠ¡ï¼ˆ6ä¸ªï¼‰
â”‚   â”œâ”€â”€ captcha_tasks.py          # éªŒè¯ç å¤„ç†ä»»åŠ¡ï¼ˆ11ä¸ªï¼‰
â”‚   â”œâ”€â”€ email_tasks.py            # é‚®ç®±éªŒè¯ä»»åŠ¡ï¼ˆ5ä¸ªï¼‰
â”‚   â””â”€â”€ task_registry.py          # ä»»åŠ¡æ³¨å†Œå™¨ï¼ˆä¾èµ–å…³ç³»å®šä¹‰ï¼‰
â”œâ”€â”€ utils/                         # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ browser.py                # æµè§ˆå™¨ç®¡ç†å™¨
â”‚   â”œâ”€â”€ captcha.py                # YesCaptcha APIé›†æˆ
â”‚   â””â”€â”€ email_manager.py          # é‚®ç®±ç®¡ç†å™¨
â”œâ”€â”€ email_receiver.py             # ç‹¬ç«‹é‚®ä»¶æ”¶ä»¶å·¥å…·
â”œâ”€â”€ email_manager_cli.py          # ç‹¬ç«‹é‚®ç®±ç®¡ç†å·¥å…·
â”œâ”€â”€ github_signup_v2.py           # ä¸»ç¨‹åº
â”œâ”€â”€ email_config.json             # é‚®ç®±é…ç½®æ–‡ä»¶
â”œâ”€â”€ config.py                     # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ARCHITECTURE.md               # è¯¦ç»†æ¶æ„æ–‡æ¡£
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. é…ç½®é‚®ç®±
ä½¿ç”¨é‚®ç®±ç®¡ç†å·¥å…·æ·»åŠ é‚®ç®±è´¦å·ï¼š
```bash
# ä½¿ç”¨é‚®ç®±ç®¡ç†å·¥å…·
python email_manager_cli.py

# æˆ–è€…å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘
cp email_config.json.example email_config.json
```

é‚®ç®±è´¦å·æ ¼å¼ï¼š`é‚®ç®±----å¯†ç ----client_id----ä»¤ç‰Œ`

### 3. è¿è¡Œç¨‹åº

#### 3.1 å•ä¸€æ³¨å†Œæ¨¡å¼
```bash
# è¿è¡Œä¸»ç¨‹åºï¼ˆåŒ…å«é‚®ç®±é€‰æ‹©ç•Œé¢ï¼‰
python github_signup_v2.py

# æˆ–è€…ä½¿ç”¨ç‹¬ç«‹çš„é‚®ä»¶æ”¶ä»¶å·¥å…·
python email_receiver.py
```

#### 3.2 æ‰¹é‡å¼‚æ­¥å¤„ç†æ¨¡å¼ ğŸ†•
æ”¯æŒå¤šä¸ªemail_tokençš„å¹¶å‘å¤„ç†ï¼Œé€‚åˆå¿«é€Ÿæ‰¹é‡æ“ä½œï¼š

```bash
# ä»æ–‡ä»¶æ‰¹é‡å¤„ç†ï¼ˆæ¨èï¼‰
python batch_cli.py --file tokens.txt --concurrent 3

# ç›´æ¥æŒ‡å®štokens
python batch_cli.py --tokens "email1----pass1----client1----token1,email2----pass2----client2----token2" --concurrent 3

# é«˜çº§é€‰é¡¹
python batch_cli.py --file tokens.txt --concurrent 5 --browser-pool 3 --output results.json --verbose

# éªŒè¯tokensæ ¼å¼ï¼ˆä¸å®é™…æ‰§è¡Œï¼‰
python batch_cli.py --file tokens.txt --dry-run
```

**tokensæ–‡ä»¶æ ¼å¼** (`tokens.txt`):
```text
# æ¯è¡Œä¸€ä¸ªemail_tokenï¼Œæ ¼å¼ï¼šemail----password----client_id----access_token
test1@outlook.com----password123----client_id1----access_token1
test2@outlook.com----password456----client_id2----access_token2
test3@outlook.com----password789----client_id3----access_token3

# æ³¨é‡Šè¡Œä»¥#å¼€å¤´ä¼šè¢«å¿½ç•¥
# ç©ºè¡Œä¹Ÿä¼šè¢«å¿½ç•¥
```

**æ‰¹é‡å¤„ç†å‚æ•°è¯´æ˜**:
- `--concurrent`: æœ€å¤§å¹¶å‘æ•°ï¼ˆé»˜è®¤3ï¼Œå»ºè®®3-5ï¼‰
- `--browser-pool`: æµè§ˆå™¨å®ä¾‹æ± å¤§å°ï¼ˆé»˜è®¤3ï¼‰
- `--output`: ç»“æœè¾“å‡ºæ–‡ä»¶ï¼ˆJSONæ ¼å¼ï¼‰
- `--verbose`: è¯¦ç»†æ—¥å¿—è¾“å‡º
- `--dry-run`: éªŒè¯æ¨¡å¼ï¼Œä¸å®é™…æ‰§è¡Œ

**æ€§èƒ½é¢„æœŸ**:
- æœ€å¤§å¹¶å‘: 3-5ä¸ªSession
- é€‚åˆä»»åŠ¡é‡: 10-50ä¸ª
- èµ„æºéœ€æ±‚: 2-4GB RAM
- å¹³å‡å¤„ç†æ—¶é—´: 2-5åˆ†é’Ÿ/ä¸ªï¼ˆå«é˜²æ£€æµ‹å»¶è¿Ÿï¼‰

### 4. æŸ¥çœ‹ä»»åŠ¡ä¾èµ–å…³ç³»
```bash
python tasks/task_registry.py
```

## ï¿½ï¸ ç‹¬ç«‹å·¥å…·

### é‚®ç®±ç®¡ç†å·¥å…· (email_manager_cli.py)
ç‹¬ç«‹çš„é‚®ç®±è´¦å·ç®¡ç†å·¥å…·ï¼Œæ”¯æŒå®Œæ•´çš„CRUDæ“ä½œï¼š

```bash
python email_manager_cli.py
```

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… åˆ—å‡ºæ‰€æœ‰é‚®ç®±è´¦å·
- âœ… æ·»åŠ é‚®ç®±è´¦å·ï¼ˆæ”¯æŒå­—ç¬¦ä¸²æ ¼å¼ï¼‰
- âœ… åˆ é™¤é‚®ç®±è´¦å·
- âœ… æ›´æ–°é‚®ç®±è´¦å·ä¿¡æ¯
- âœ… è®¾ç½®å½“å‰ä½¿ç”¨çš„é‚®ç®±è´¦å·
- âœ… æµ‹è¯•é‚®ç®±è¿æ¥

### é‚®ä»¶æ”¶ä»¶å·¥å…· (email_receiver.py)
ç‹¬ç«‹çš„é‚®ä»¶æ¥æ”¶å·¥å…·ï¼Œä»å½“å‰é‚®ç®±è´¦å·ä¸­æ”¶å–é‚®ä»¶ï¼š

```bash
python email_receiver.py
```

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… è·å–æœ€æ–°é‚®ä»¶ï¼ˆæ˜¾ç¤ºå®Œæ•´å†…å®¹ï¼‰
- âœ… æœç´¢é‚®ä»¶ï¼ˆæŒ‰ä¸»é¢˜ã€å‘ä»¶äººã€æ—¶é—´è¿‡æ»¤ï¼‰
- âœ… è·å–éªŒè¯ç ï¼ˆGitHubç­‰å¹³å°ï¼‰
- âœ… åˆ‡æ¢é‚®ç®±è´¦å·
- âœ… æ˜¾ç¤ºå½“å‰è´¦å·ä¿¡æ¯

## ï¿½ğŸ“‹ ä»»åŠ¡æµç¨‹

### é˜¶æ®µ-1: ç³»ç»Ÿåˆå§‹åŒ– (1ä¸ªä»»åŠ¡)
1. **system_initialization_task** - ç³»ç»Ÿåˆå§‹åŒ–æ£€æŸ¥

### é˜¶æ®µ0: é‚®ç®±é€‰æ‹© (1ä¸ªä»»åŠ¡)
2. **email_account_select_task** - é‚®ç®±è´¦å·é€‰æ‹©å…¥å£

### é˜¶æ®µ1: æµè§ˆå™¨åˆå§‹åŒ– (3ä¸ªä»»åŠ¡)
3. **browser_init_task** - å¯åŠ¨æµè§ˆå™¨
4. **navigate_to_signup_task** - å¯¼èˆªåˆ°æ³¨å†Œé¡µé¢
5. **page_load_wait_task** - ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½

### é˜¶æ®µ2: è¡¨å•å¡«å†™ (6ä¸ªä»»åŠ¡)
6. **email_input_task** - å®šä½å¹¶å¡«å†™é‚®ç®±å­—æ®µ
7. **password_input_task** - å®šä½å¹¶å¡«å†™å¯†ç å­—æ®µ
8. **username_generate_task** - ç”Ÿæˆç”¨æˆ·å
9. **username_input_task** - å¡«å†™ç”¨æˆ·å
10. **username_validate_task** - éªŒè¯ç”¨æˆ·åå¯ç”¨æ€§
11. **form_submit_task** - æäº¤è¡¨å•

### é˜¶æ®µ3: éªŒè¯ç å¤„ç† (11ä¸ªä»»åŠ¡)
12. **captcha_detect_task** - æ£€æµ‹æ˜¯å¦å‡ºç°éªŒè¯ç 
13. **visual_puzzle_button_find_task** - æŸ¥æ‰¾Visual puzzleæŒ‰é’®
14. **visual_puzzle_button_click_task** - ç‚¹å‡»æŒ‰é’®
15. **captcha_iframe_locate_task** - å®šä½éªŒè¯ç iframe
16. **captcha_iframe_switch_task** - åˆ‡æ¢åˆ°éªŒè¯ç iframe
17. **captcha_info_extract_task** - æå–éªŒè¯ç é¢˜ç›®å’Œå›¾ç‰‡
18. **captcha_image_download_task** - ä¸‹è½½éªŒè¯ç å›¾ç‰‡
19. **captcha_solve_api_task** - è°ƒç”¨YesCaptcha APIè¯†åˆ«
20. **captcha_answer_submit_task** - æäº¤éªŒè¯ç ç­”æ¡ˆ
21. **captcha_result_check_task** - æ£€æŸ¥éªŒè¯ç ç»“æœ
22. **captcha_next_round_task** - å¤„ç†ä¸‹ä¸€è½®éªŒè¯ç (æ”¯æŒå¤šè½®)

### é˜¶æ®µ4: é‚®ç®±éªŒè¯ (5ä¸ªä»»åŠ¡)
23. **email_verification_detect_task** - æ£€æµ‹é‚®ç®±éªŒè¯é¡µé¢
24. **email_fetch_task** - è·å–éªŒè¯é‚®ä»¶
25. **verification_link_extract_task** - æå–éªŒè¯é“¾æ¥
26. **verification_link_click_task** - ç‚¹å‡»éªŒè¯é“¾æ¥
27. **registration_complete_check_task** - æ£€æŸ¥æ³¨å†Œå®ŒæˆçŠ¶æ€

## ğŸ”„ äº‹ä»¶é©±åŠ¨æœºåˆ¶

### æ ¸å¿ƒäº‹ä»¶æµ
```
browser_init_started â†’ browser_ready â†’ form_filling_started â†’ 
form_submitted â†’ captcha_detected â†’ captcha_solving_started â†’ 
captcha_completed â†’ email_verification_required â†’ registration_completed
```

### ä»»åŠ¡ä¾èµ–ç¤ºä¾‹
```
browser_init_task â†’ navigate_to_signup_task â†’ page_load_wait_task â†’
email_input_task â†’ password_input_task â†’ username_generate_task â†’
username_input_task â†’ username_validate_task â†’ form_submit_task â†’
captcha_detect_task â†’ ...
```

## ğŸ›ï¸ é…ç½®é€‰é¡¹

### é‡è¯•ç­–ç•¥
- **ç”Ÿäº§ç¯å¢ƒ**: `max_retries = 0` (å¿«é€Ÿå¤±è´¥)
- **å¼€å‘ç¯å¢ƒ**: `max_retries = 1-2` (å…è®¸é‡è¯•è°ƒè¯•)

### è¶…æ—¶æ§åˆ¶
- **çŸ­ä»»åŠ¡**: 5-15ç§’ (è¡¨å•å¡«å†™ã€ç‚¹å‡»ç­‰)
- **ä¸­ç­‰ä»»åŠ¡**: 20-30ç§’ (é¡µé¢åŠ è½½ã€APIè°ƒç”¨)
- **é•¿ä»»åŠ¡**: 60-120ç§’ (é‚®ä»¶è·å–ã€å¤æ‚æŸ¥æ‰¾)

### å¹¶å‘æ§åˆ¶
- `max_concurrent_tasks = 1` (æ³¨å†Œæµç¨‹éœ€è¦ä¸¥æ ¼é¡ºåº)

## ğŸ“Š ç›‘æ§ä¸è°ƒè¯•

### è‡ªåŠ¨ç”Ÿæˆæ—¥å¿—
ç¨‹åºè¿è¡Œæ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„æ—¥å¿—æ–‡ä»¶ï¼š
```
github_signup_YYYYMMDD_HHMMSS.log
```

### çŠ¶æ€æŠ¥å‘Š
ç¨‹åºç»“æŸåè‡ªåŠ¨æ‰“å°è¯¦ç»†çŠ¶æ€æŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼š
- å½“å‰çŠ¶æ€ä¿¡æ¯
- ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- äº‹ä»¶æ€»çº¿ç»Ÿè®¡
- å¤±è´¥ä»»åŠ¡è¯¦æƒ…

### è°ƒè¯•åŠŸèƒ½
- äº‹ä»¶å†å²è®°å½•ï¼ˆæœ€è¿‘1000ä¸ªäº‹ä»¶ï¼‰
- çŠ¶æ€è½¬æ¢å†å²
- ä»»åŠ¡æ‰§è¡Œæ—¶é—´ç»Ÿè®¡
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

## ğŸ¯ æ¶æ„ä¼˜åŠ¿

1. **é«˜åº¦æ¨¡å—åŒ–**: æ¯ä¸ªä»»åŠ¡èŒè´£å•ä¸€ï¼Œæ˜“äºæµ‹è¯•å’Œç»´æŠ¤
2. **çœŸæ­£å¼‚æ­¥**: å½»åº•è§£å†³åŒæ­¥é˜»å¡é—®é¢˜ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡
3. **çµæ´»é‡è¯•**: å¯é’ˆå¯¹ä¸åŒç¯å¢ƒå’Œä»»åŠ¡ç±»å‹é…ç½®é‡è¯•ç­–ç•¥
4. **å®Œæ•´è¿½è¸ª**: æ‰€æœ‰æ“ä½œéƒ½æœ‰äº‹ä»¶è®°å½•ï¼Œä¾¿äºè°ƒè¯•å’Œåˆ†æ
5. **çŠ¶æ€ç®¡ç†**: æ¸…æ™°çš„çŠ¶æ€è½¬æ¢ï¼Œé¿å…çŠ¶æ€æ··ä¹±
6. **æ˜“äºæ‰©å±•**: æ–°å¢ä»»åŠ¡åªéœ€å®ç°handlerå‡½æ•°å¹¶æ³¨å†Œå³å¯

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°ä»»åŠ¡
1. åœ¨å¯¹åº”çš„tasksæ–‡ä»¶ä¸­å®ç°ä»»åŠ¡å‡½æ•°
2. åœ¨`task_registry.py`ä¸­æ³¨å†Œä»»åŠ¡
3. å®šä¹‰ä»»åŠ¡ä¾èµ–å…³ç³»
4. é…ç½®é‡è¯•å’Œè¶…æ—¶å‚æ•°

### æ·»åŠ æ–°äº‹ä»¶
1. åœ¨ä»»åŠ¡ä¸­ä½¿ç”¨`event_bus.publish()`å‘å¸ƒäº‹ä»¶
2. åœ¨`state_manager.py`ä¸­æ·»åŠ çŠ¶æ€è½¬æ¢è§„åˆ™
3. åœ¨å…¶ä»–ç»„ä»¶ä¸­è®¢é˜…äº‹ä»¶

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [æ¶æ„æ–‡æ¡£](ARCHITECTURE.md) - è¯¦ç»†çš„ç³»ç»Ÿæ¶æ„è¯´æ˜
- [ä»»åŠ¡ä¾èµ–å…³ç³»å›¾](tasks/task_registry.py) - è¿è¡ŒæŸ¥çœ‹å®Œæ•´ä¾èµ–å…³ç³»

## ğŸ‰ æ›´æ–°æ—¥å¿—

### V2.1.0 (å½“å‰ç‰ˆæœ¬) ğŸ†•
- âœ… æ–°å¢æ‰¹é‡å¼‚æ­¥å¤„ç†æ¨¡å¼ï¼Œæ”¯æŒå¤šemail_tokenå¹¶å‘
- âœ… å®ç°æµè§ˆå™¨å®ä¾‹æ± ï¼Œä¼˜åŒ–èµ„æºåˆ©ç”¨
- âœ… æ·»åŠ æ‰¹é‡å¤„ç†CLIå·¥å…· (`batch_cli.py`)
- âœ… æ”¯æŒæ‰¹é‡ç»Ÿè®¡æŠ¥å‘Šå’Œç»“æœå¯¼å‡º
- âœ… åŸºäºasyncio.gatherçš„è½»é‡çº§å¹¶å‘æ¶æ„
- âœ… æ™ºèƒ½èµ„æºå¤ç”¨å’Œé˜²æ£€æµ‹å»¶è¿Ÿå¹³è¡¡

### V2.0.0
- âœ… é‡æ„ä¸ºä»»åŠ¡é˜Ÿåˆ—+äº‹ä»¶é©±åŠ¨æ¶æ„
- âœ… å®ç°25ä¸ªç»†ç²’åº¦ä»»åŠ¡
- âœ… æ·»åŠ å®Œæ•´çš„ç›‘æ§å’Œè°ƒè¯•åŠŸèƒ½
- âœ… æ”¯æŒçµæ´»çš„é‡è¯•å’Œè¶…æ—¶é…ç½®
- âœ… çœŸæ­£çš„å¼‚æ­¥äº‹ä»¶é©±åŠ¨æœºåˆ¶

### V1.0.0 (å·²åºŸå¼ƒ)
- âŒ ä¼ ç»Ÿçš„handleræ¶æ„
- âŒ å¤§æ­¥éª¤å¼‚æ­¥ï¼Œå°æ­¥éª¤åŒæ­¥
- âŒ åˆ†æ”¯é€»è¾‘åˆ¤æ–­æ··ä¹±

## ğŸ”§ æŠ€æœ¯æ ˆ
- **Python 3.12** - ä¸»è¦ç¼–ç¨‹è¯­è¨€
- **Selenium** - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- **asyncio** - å¼‚æ­¥ç¼–ç¨‹
- **YesCaptcha API** - éªŒè¯ç è¯†åˆ«æœåŠ¡
- **ä¸´æ—¶é‚®ç®±æœåŠ¡** - é‚®ç®±éªŒè¯

## âš ï¸ æ³¨æ„äº‹é¡¹
- éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
- éªŒè¯ç è¯†åˆ«ä¾èµ–ç¬¬ä¸‰æ–¹API
- å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿è¡Œ
- è¯·éµå®ˆGitHubçš„ä½¿ç”¨æ¡æ¬¾å’Œç›¸å…³æ³•å¾‹æ³•è§„
